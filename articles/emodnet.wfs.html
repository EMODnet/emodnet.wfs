<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Accessing and mapping EMODnet data • emodnet.wfs</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Accessing and mapping EMODnet data">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">emodnet.wfs</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.2.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/emodnet.wfs.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/ecql_filtering.html">EQCL feature filtering</a></li>
    <li><a class="dropdown-item" href="../articles/request-params.html">Using request parameters to limit query results</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/EMODnet/emodnet.wfs/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Accessing and mapping EMODnet data</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/EMODnet/emodnet.wfs/blob/main/vignettes/emodnet.wfs.Rmd" class="external-link"><code>vignettes/emodnet.wfs.Rmd</code></a></small>
      <div class="d-none name"><code>emodnet.wfs.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The package was designed to make EMODnet vector data layers easily
accessible in R. The package allows users to query information on and
download data from all available <a href="https://emodnet.ec.europa.eu/geonetwork/emodnet/eng/catalog.search#/home" class="external-link">EMODnet
Web Feature Service (WFS) endpoints</a> directly into their R working
environment. Data are managed as <a href="https://r-spatial.github.io/sf/" class="external-link"><code>sf</code> objects</a> which
are currently the state-of-the-art in handling of vector spatial data in
R. The package also allows user to specify the coordinate reference
system of imported data.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of emodnet.wfs from GitHub
with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"EMODnet/emodnet.wfs"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="explore-the-emodnet-wfs-services-with-r">Explore the EMODnet WFS services with R<a class="anchor" aria-label="anchor" href="#explore-the-emodnet-wfs-services-with-r"></a>
</h2>
<p>For this tutorial we will make use of the <a href="https://r-spatial.github.io/sf/" class="external-link"><code>sf</code></a> and <a href="https://r-spatial.github.io/mapview/" class="external-link"><code>mapview</code></a>
packages. The simple features <code>sf</code> package is a well known
standard for dealing with geospatial vector data. To visualize
geometries, <code>mapview</code> will create quick interactive maps.</p>
<p>Run this line to install these packages:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sf"</span>, <span class="st">"mapview"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>EMODnet is organized into <a href="https://emodnet.ec.europa.eu/en/emodnet-themes" class="external-link">seven thematic
lots</a>: Bathymetry, Geology, Seabed Habitats, Chemistry, Biology,
Physics, and Human Activities, each focusing on a specific aspect of
marine data. With the emodnet.wfs package, we can explore and combine
the data served by the EMODnet thematic lots through <a href="https://en.wikipedia.org/wiki/Web_Feature_Service" class="external-link">OGC Web Feature
Services</a> or WFS.</p>
<p>Imagine we are interested in seabed substrates. The first step is to
choose what EMODnet thematic lot can provide with these data. For that,
we can check the services available with the <code><a href="../reference/emodnet_wfs.html">emodnet_wfs()</a></code>
function.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://emodnet.github.io/emodnet.wfs/">emodnet.wfs</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-spatial/mapview" class="external-link">mapview</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in value[[3L]](cond): Package 'sf' version 1.0.18 cannot be unloaded:</span></span>
<span><span class="co">#&gt;  Error in unloadNamespace(package) : namespace 'sf' is imported by 'ows4R', 'mapview', 'leafem', 'leafpop' so cannot be unloaded</span></span>
<span></span>
<span><span class="va">services</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/emodnet_wfs.html">emodnet_wfs</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">services</span><span class="op">$</span><span class="va">service_name</span></span>
<span><span class="co">#&gt;  [1] "bathymetry"                                                     </span></span>
<span><span class="co">#&gt;  [2] "biology"                                                        </span></span>
<span><span class="co">#&gt;  [3] "biology_occurrence_data"                                        </span></span>
<span><span class="co">#&gt;  [4] "chemistry_cdi_data_discovery_and_access_service"                </span></span>
<span><span class="co">#&gt;  [5] "chemistry_cdi_distribution_observations_per_category_and_region"</span></span>
<span><span class="co">#&gt;  [6] "chemistry_contaminants"                                         </span></span>
<span><span class="co">#&gt;  [7] "chemistry_marine_litter"                                        </span></span>
<span><span class="co">#&gt;  [8] "geology_coastal_behavior"                                       </span></span>
<span><span class="co">#&gt;  [9] "geology_events_and_probabilities"                               </span></span>
<span><span class="co">#&gt; [10] "geology_marine_minerals"                                        </span></span>
<span><span class="co">#&gt; [11] "geology_sea_floor_bedrock"                                      </span></span>
<span><span class="co">#&gt; [12] "geology_seabed_substrate_maps"                                  </span></span>
<span><span class="co">#&gt; [13] "geology_submerged_landscapes"                                   </span></span>
<span><span class="co">#&gt; [14] "human_activities"                                               </span></span>
<span><span class="co">#&gt; [15] "physics"                                                        </span></span>
<span><span class="co">#&gt; [16] "seabed_habitats_general_datasets_and_products"                  </span></span>
<span><span class="co">#&gt; [17] "seabed_habitats_individual_habitat_map_and_model_datasets"</span></span></code></pre></div>
<p>The column <code>service_name</code> shows services available, while
<code>service_url</code> has the corresponding base url to perform a WFS
request. The Seabed portal should have the data we are looking for. A
WFS client can be created by passing the corresponding
<code>service_name</code> to the function
<code><a href="../reference/emodnet_init_wfs_client.html">emodnet_init_wfs_client()</a></code>. The layers available to this WFS
client are consulted with <code><a href="../reference/emodnet_get_wfs_info.html">emodnet_get_wfs_info()</a></code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">seabed_wfs_client</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/emodnet_init_wfs_client.html">emodnet_init_wfs_client</a></span><span class="op">(</span>service <span class="op">=</span> <span class="st">"seabed_habitats_general_datasets_and_products"</span><span class="op">)</span></span>
<span><span class="co">#&gt; ✔ WFS client created successfully</span></span>
<span><span class="co">#&gt; ℹ Service: "https://ows.emodnet-seabedhabitats.eu/geoserver/emodnet_open/wfs"</span></span>
<span><span class="co">#&gt; ℹ Version: "2.0.0"</span></span>
<span></span>
<span><span class="fu"><a href="../reference/emodnet_get_wfs_info.html">emodnet_get_wfs_info</a></span><span class="op">(</span>wfs <span class="op">=</span> <span class="va">seabed_wfs_client</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 72 × 9</span></span>
<span><span class="co">#&gt; # Rowwise: </span></span>
<span><span class="co">#&gt;    data_source service_name          service_url layer_name title abstract class format</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;       &lt;chr&gt;                 &lt;chr&gt;       &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt; </span></span>
<span><span class="co">#&gt;  1 emodnet_wfs seabed_habitats_gene… https://ow… art17_hab… 2013… "Gridde… WFSF… sf    </span></span>
<span><span class="co">#&gt;  2 emodnet_wfs seabed_habitats_gene… https://ow… art17_hab… 2013… "Gridde… WFSF… sf    </span></span>
<span><span class="co">#&gt;  3 emodnet_wfs seabed_habitats_gene… https://ow… art17_hab… 2013… "Gridde… WFSF… sf    </span></span>
<span><span class="co">#&gt;  4 emodnet_wfs seabed_habitats_gene… https://ow… art17_hab… 2013… "Gridde… WFSF… sf    </span></span>
<span><span class="co">#&gt;  5 emodnet_wfs seabed_habitats_gene… https://ow… art17_hab… 2013… "Gridde… WFSF… sf    </span></span>
<span><span class="co">#&gt;  6 emodnet_wfs seabed_habitats_gene… https://ow… art17_hab… 2013… "Gridde… WFSF… sf    </span></span>
<span><span class="co">#&gt;  7 emodnet_wfs seabed_habitats_gene… https://ow… art17_hab… 2013… "Gridde… WFSF… sf    </span></span>
<span><span class="co">#&gt;  8 emodnet_wfs seabed_habitats_gene… https://ow… art17_hab… 2013… "Gridde… WFSF… sf    </span></span>
<span><span class="co">#&gt;  9 emodnet_wfs seabed_habitats_gene… https://ow… carib_eus… 2023… "Output… WFSF… sf    </span></span>
<span><span class="co">#&gt; 10 emodnet_wfs seabed_habitats_gene… https://ow… biogenic_… Biog… "This l… WFSF… sf    </span></span>
<span><span class="co">#&gt; # ℹ 62 more rows</span></span>
<span><span class="co">#&gt; # ℹ 1 more variable: layer_namespace &lt;chr&gt;</span></span></code></pre></div>
<p>Each layer is explained in the <code>abstract</code> column. We can
see several layers with the information provided by the EU member states
for the <a href="https://www.eea.europa.eu/data-and-maps/data/article-17-database-habitats-directive-92-43-eec-2" class="external-link">Habitats
Directive 92/43/EEC reporting</a>. We will select the layers about
coastal lagoons, mudflats and sandbanks with their respective
<code>layer_name</code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">habitats_directive_layer_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"art17_hab_1110"</span>, <span class="st">"art17_hab_1140"</span>, <span class="st">"art17_hab_1150"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/emodnet_get_wfs_info.html">emodnet_get_layer_info</a></span><span class="op">(</span></span>
<span>  wfs <span class="op">=</span> <span class="va">seabed_wfs_client</span>,</span>
<span>  layers <span class="op">=</span> <span class="va">habitats_directive_layer_names</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 3 × 9</span></span>
<span><span class="co">#&gt; # Rowwise: </span></span>
<span><span class="co">#&gt;   data_source service_name           service_url layer_name title abstract class format</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;       &lt;chr&gt;                  &lt;chr&gt;       &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt; </span></span>
<span><span class="co">#&gt; 1 emodnet_wfs https://ows.emodnet-s… seabed_hab… art17_hab… 2013… "Gridde… WFSF… sf    </span></span>
<span><span class="co">#&gt; 2 emodnet_wfs https://ows.emodnet-s… seabed_hab… art17_hab… 2013… "Gridde… WFSF… sf    </span></span>
<span><span class="co">#&gt; 3 emodnet_wfs https://ows.emodnet-s… seabed_hab… art17_hab… 2013… "Gridde… WFSF… sf    </span></span>
<span><span class="co">#&gt; # ℹ 1 more variable: layer_namespace &lt;chr&gt;</span></span></code></pre></div>
<p>We are now ready to read the layers into R with
<code><a href="../reference/emodnet_get_layers.html">emodnet_get_layers()</a></code>. emodnet.wfs reads the geometries as
simple features (See <code>sf</code> package) transformed to <a href="https://epsg.io/4326" class="external-link">4326</a> by default. Specifying another map
projection is possible by passing a EPGS code or projection string with
<code>emodnet_get_layers(crs = "your projection")</code> where crs is a
coordinate reference system (CRS). The argument
<code>simplify = TRUE</code> stack all the layers in one single tibble.
Default is FALSE and returns a list of sf objects, one per layer.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">habitats_directive_layers</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/emodnet_get_layers.html">emodnet_get_layers</a></span><span class="op">(</span></span>
<span>  wfs <span class="op">=</span> <span class="va">seabed_wfs_client</span>,</span>
<span>  layers <span class="op">=</span> <span class="va">habitats_directive_layer_names</span>,</span>
<span>  simplify <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  outputFormat <span class="op">=</span> <span class="st">"application/json"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Start tag expected, '&lt;' not found</span></span>
<span><span class="co">#&gt; Start tag expected, '&lt;' not found</span></span>
<span><span class="co">#&gt; Start tag expected, '&lt;' not found</span></span>
<span></span>
<span><span class="va">habitats_directive_layers</span></span>
<span><span class="co">#&gt; Simple feature collection with 221 features and 8 fields</span></span>
<span><span class="co">#&gt; Geometry type: MULTIPOLYGON</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: 950000 ymin: 940000 xmax: 6510000 ymax: 4820000</span></span>
<span><span class="co">#&gt; Projected CRS: ETRS89-extended / LAEA Europe</span></span>
<span><span class="co">#&gt; First 10 features:</span></span>
<span><span class="co">#&gt;                   id habitat_code ms region cs_ms   country_code</span></span>
<span><span class="co">#&gt; 1  art17_hab_1110.13         1110 DK    ATL   U2+        Denmark</span></span>
<span><span class="co">#&gt; 2  art17_hab_1110.22         1110 ES    MAC   U1+          Spain</span></span>
<span><span class="co">#&gt; 3  art17_hab_1110.25         1110 ES   MMAC   U1+          Spain</span></span>
<span><span class="co">#&gt; 4  art17_hab_1110.59         1110 PT   MMAC    XX       Portugal</span></span>
<span><span class="co">#&gt; 5  art17_hab_1110.56         1110 PT   MATL   U1-       Portugal</span></span>
<span><span class="co">#&gt; 6  art17_hab_1110.53         1110 PL   MBAL   U1-         Poland</span></span>
<span><span class="co">#&gt; 7  art17_hab_1110.17         1110 DK   MBAL   U1-        Denmark</span></span>
<span><span class="co">#&gt; 8  art17_hab_1110.31         1110 FR   MATL   U1x         France</span></span>
<span><span class="co">#&gt; 9  art17_hab_1110.75         1110 UK   MATL   U1x United Kingdom</span></span>
<span><span class="co">#&gt; 10  art17_hab_1110.1         1110 BE    ATL   U1x        Belgium</span></span>
<span><span class="co">#&gt;                                                  habitat_code_uri</span></span>
<span><span class="co">#&gt; 1  http://dd.eionet.europa.eu/vocabulary/art17_2018/habitats/1110</span></span>
<span><span class="co">#&gt; 2  http://dd.eionet.europa.eu/vocabulary/art17_2018/habitats/1110</span></span>
<span><span class="co">#&gt; 3  http://dd.eionet.europa.eu/vocabulary/art17_2018/habitats/1110</span></span>
<span><span class="co">#&gt; 4  http://dd.eionet.europa.eu/vocabulary/art17_2018/habitats/1110</span></span>
<span><span class="co">#&gt; 5  http://dd.eionet.europa.eu/vocabulary/art17_2018/habitats/1110</span></span>
<span><span class="co">#&gt; 6  http://dd.eionet.europa.eu/vocabulary/art17_2018/habitats/1110</span></span>
<span><span class="co">#&gt; 7  http://dd.eionet.europa.eu/vocabulary/art17_2018/habitats/1110</span></span>
<span><span class="co">#&gt; 8  http://dd.eionet.europa.eu/vocabulary/art17_2018/habitats/1110</span></span>
<span><span class="co">#&gt; 9  http://dd.eionet.europa.eu/vocabulary/art17_2018/habitats/1110</span></span>
<span><span class="co">#&gt; 10 http://dd.eionet.europa.eu/vocabulary/art17_2018/habitats/1110</span></span>
<span><span class="co">#&gt;                                               habitat_description</span></span>
<span><span class="co">#&gt; 1  Sandbanks which are slightly covered by sea water all the time</span></span>
<span><span class="co">#&gt; 2  Sandbanks which are slightly covered by sea water all the time</span></span>
<span><span class="co">#&gt; 3  Sandbanks which are slightly covered by sea water all the time</span></span>
<span><span class="co">#&gt; 4  Sandbanks which are slightly covered by sea water all the time</span></span>
<span><span class="co">#&gt; 5  Sandbanks which are slightly covered by sea water all the time</span></span>
<span><span class="co">#&gt; 6  Sandbanks which are slightly covered by sea water all the time</span></span>
<span><span class="co">#&gt; 7  Sandbanks which are slightly covered by sea water all the time</span></span>
<span><span class="co">#&gt; 8  Sandbanks which are slightly covered by sea water all the time</span></span>
<span><span class="co">#&gt; 9  Sandbanks which are slightly covered by sea water all the time</span></span>
<span><span class="co">#&gt; 10 Sandbanks which are slightly covered by sea water all the time</span></span>
<span><span class="co">#&gt;                          geometry</span></span>
<span><span class="co">#&gt; 1  MULTIPOLYGON (((4200000 360...</span></span>
<span><span class="co">#&gt; 2  MULTIPOLYGON (((1950000 950...</span></span>
<span><span class="co">#&gt; 3  MULTIPOLYGON (((1960000 950...</span></span>
<span><span class="co">#&gt; 4  MULTIPOLYGON (((1810000 120...</span></span>
<span><span class="co">#&gt; 5  MULTIPOLYGON (((2730000 173...</span></span>
<span><span class="co">#&gt; 6  MULTIPOLYGON (((4610000 346...</span></span>
<span><span class="co">#&gt; 7  MULTIPOLYGON (((4310000 352...</span></span>
<span><span class="co">#&gt; 8  MULTIPOLYGON (((3790000 314...</span></span>
<span><span class="co">#&gt; 9  MULTIPOLYGON (((3780000 319...</span></span>
<span><span class="co">#&gt; 10 MULTIPOLYGON (((3800000 313...</span></span></code></pre></div>
<p>Note the use of the <code>outputFormat</code> argument in this
example. This specifies the file type to request from the service, which
can influence how the data is loaded into R. By default, the data is
provided in the <code>GML</code> format with a geometry type of
“MULTISURFACE.” However, this geometry type is not widely supported by
many software tools, including the <code>mapview</code> package. To
address this, you can request a different file type, such as GeoJSON,
which delivers the geometry as “MULTIPOLYGON”—a format that is more
universally compatible. This has been raised before in the <a href="https://github.com/r-spatial/sf/issues/748" class="external-link">sf community</a>.</p>
<p>Run the following code to have a quick look at the layers
geometries.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/mapview/man/mapView.html" class="external-link">mapview</a></span><span class="op">(</span><span class="va">habitats_directive_layers</span>, zcol <span class="op">=</span> <span class="st">"habitat_description"</span>, burst <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<img src="emodnet.wfs-unnamed-chunk-6-1.png" alt="Interactive map of layers in the habitat directive"><p class="caption">
plot of chunk unnamed-chunk-6
</p>
</div>
<p>EMODnet provides also physics, chemistry, biological or bathymetry
data. Explore all the layers available with:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/emodnet_get_wfs_info.html">emodnet_get_all_wfs_info</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 1,713 × 9</span></span>
<span><span class="co">#&gt; # Rowwise: </span></span>
<span><span class="co">#&gt;    data_source service_name service_url          layer_name title abstract class format</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;       &lt;chr&gt;        &lt;chr&gt;                &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt; </span></span>
<span><span class="co">#&gt;  1 emodnet_wfs bathymetry   https://ows.emodnet… download_… Bath… "Downlo… WFSF… sf    </span></span>
<span><span class="co">#&gt;  2 emodnet_wfs bathymetry   https://ows.emodnet… contours   Dept… "Genera… WFSF… sf    </span></span>
<span><span class="co">#&gt;  3 emodnet_wfs bathymetry   https://ows.emodnet… hr_bathym… High… "Layer … WFSF… sf    </span></span>
<span><span class="co">#&gt;  4 emodnet_wfs bathymetry   https://ows.emodnet… quality_i… Qual… "Repres… WFSF… sf    </span></span>
<span><span class="co">#&gt;  5 emodnet_wfs bathymetry   https://ows.emodnet… sea_names  Sea … "Mainta… WFSF… sf    </span></span>
<span><span class="co">#&gt;  6 emodnet_wfs bathymetry   https://ows.emodnet… source_re… Sour… "Covera… WFSF… sf    </span></span>
<span><span class="co">#&gt;  7 emodnet_wfs bathymetry   https://ows.emodnet… undersea_… unde… ""       WFSF… sf    </span></span>
<span><span class="co">#&gt;  8 emodnet_wfs biology      https://geo.vliz.be… mediseh_c… EMOD… "Coral … WFSF… sf    </span></span>
<span><span class="co">#&gt;  9 emodnet_wfs biology      https://geo.vliz.be… mediseh_c… EMOD… "Coral … WFSF… sf    </span></span>
<span><span class="co">#&gt; 10 emodnet_wfs biology      https://geo.vliz.be… mediseh_c… EMOD… "Cymodo… WFSF… sf    </span></span>
<span><span class="co">#&gt; # ℹ 1,703 more rows</span></span>
<span><span class="co">#&gt; # ℹ 1 more variable: layer_namespace &lt;chr&gt;</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="more-information">More information<a class="anchor" aria-label="anchor" href="#more-information"></a>
</h2>
<div class="section level3">
<h3 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h3>
<p>Blondel, Emmanuel. (2020, May 27). ows4R: R Interface to OGC
Web-Services (Version 0.1-5). Zenodo. <a href="https://doi.org/10.5281/zenodo.3860330" class="external-link uri">https://doi.org/10.5281/zenodo.3860330</a></p>
<p>Flanders Marine Institute (2019). Maritime Boundaries Geodatabase,
version 11. Available online at <a href="https://www.marineregions.org/" class="external-link uri">https://www.marineregions.org/</a>. <a href="https://doi.org/10.14284/382" class="external-link uri">https://doi.org/10.14284/382</a>.</p>
<p>Hadley Wickham, Romain François, Lionel Henry and Kirill Müller
(2020). dplyr: A Grammar of Data Manipulation. R package version
1.0.2.https://CRAN.R-project.org/package=dplyr</p>
<p>Pebesma E (2018). “Simple Features for R: Standardized Support for
Spatial Vector Data.” The R Journal, 10(1), 439–446. doi:
10.32614/RJ-2018-009, <a href="https://doi.org/10.32614/RJ-2018-009" class="external-link uri">https://doi.org/10.32614/RJ-2018-009</a>.</p>
<p>R Core Team (2020). R: A language and environment for statistical
computing. R Foundation for Statistical Computing, Vienna, Austria. URL
<a href="https://www.R-project.org/" class="external-link uri">https://www.R-project.org/</a>.</p>
<p>Tim Appelhans, Florian Detsch, Christoph Reudenbach and Stefan
Woellauer (2020). mapview: Interactive Viewing of Spatial Data in R. R
package version 2.9.0. <a href="https://CRAN.R-project.org/package=mapview" class="external-link uri">https://CRAN.R-project.org/package=mapview</a></p>
</div>
<div class="section level3">
<h3 id="code">Code<a class="anchor" aria-label="anchor" href="#code"></a>
</h3>
<p>To cite emodnet.wfs, please use the output from
<code>citation(package = "emodnet.wfs")</code>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/citation.html" class="external-link">citation</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"emodnet.wfs"</span><span class="op">)</span></span>
<span><span class="co">#&gt; To cite package 'emodnet.wfs' in publications use:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   Krystalli A, Fernández-Bejarano S, Salmon M (????). _emodnet.wfs: Access</span></span>
<span><span class="co">#&gt;   EMODnet Web Feature Service data through R_. doi:10.14284/679</span></span>
<span><span class="co">#&gt;   &lt;https://doi.org/10.14284/679&gt;, R package version 2.0.2.9000. Integrated</span></span>
<span><span class="co">#&gt;   data products created under the European Marine Observation Data Network</span></span>
<span><span class="co">#&gt;   (EMODnet) Biology project (EASME/EMFF/2017/1.3.1.2/02/SI2.789013), funded</span></span>
<span><span class="co">#&gt;   by the by the European Union under Regulation (EU) No 508/2014 of the</span></span>
<span><span class="co">#&gt;   European Parliament and of the Council of 15 May 2014 on the European</span></span>
<span><span class="co">#&gt;   Maritime and Fisheries Fund, &lt;https://github.com/EMODnet/emodnet.wfs&gt;.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; A BibTeX entry for LaTeX users is</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   @Manual{,</span></span>
<span><span class="co">#&gt;     title = {{emodnet.wfs}: Access EMODnet Web Feature Service data through R},</span></span>
<span><span class="co">#&gt;     author = {Anna Krystalli and Salvador Fernández-Bejarano and Maëlle Salmon},</span></span>
<span><span class="co">#&gt;     note = {R package version 2.0.2.9000. Integrated data products created under the European Marine Observation Data Network (EMODnet) Biology project (EASME/EMFF/2017/1.3.1.2/02/SI2.789013), funded by the by the European Union under Regulation (EU) No 508/2014 of the European Parliament and of the Council of 15 May 2014 on the European Maritime and Fisheries Fund},</span></span>
<span><span class="co">#&gt;     url = {https://github.com/EMODnet/emodnet.wfs},</span></span>
<span><span class="co">#&gt;     doi = {10.14284/679},</span></span>
<span><span class="co">#&gt;   }</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.r-rse.eu/" class="external-link">Anna Krystalli</a>, <a href="https://github.com/salvafern" class="external-link">Salvador Fernández-Bejarano</a>, <a href="https://www.vliz.be/" class="external-link">VLIZ (VLAAMS INSTITUUT VOOR DE ZEE)</a>, <a href="https://masalmon.eu" class="external-link">Maëlle Salmon</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
